<dom-module id="story-part-table">
  <template>

    <style include="forge-integrations-style"></style>

    <table class="table">

      <thead>
        <tr>
          <template is="dom-repeat" items="{{value.columns}}" as="column">
            <th>
              <span>
                    <paper-icon-button icon="icons:delete" title="Delete column" on-click="deleteColumn"></paper-icon-button>
                    <paper-input value="{{column.content}}" placeholder="Title" on-input="onInput" on-change="onChange" disabled="[[disabled]]" no-label-float="true"></paper-input>
                </span>
            </th>
          </template>
          <td>
            <paper-button on-click="addColumn">
              <iron-icon icon="icons:add-circle"></iron-icon> Add Column
            </paper-button>
          </td>
        </tr>
      </thead>

      <tbody>
        <template is="dom-repeat" items="{{value.rows}}" as="row">
          <tr>
            <template is="dom-repeat" items="{{value.columns}}" as="column">
              <td>
                <paper-input value="[[arrayItem(row, index)]]" on-input="onItemChange" on-change="onItemChange" disabled="[[disabled]]" no-label-float="true"></paper-input>
              </td>
            </template>
            <td>
              <paper-icon-button icon="icons:delete" title="Delete row" on-click="deleteRow"></paper-icon-button>
            </td>
          </tr>
        </template>
        <tr>
          <td>
            <paper-button id="addRowButton" on-click="addRow" hidden="{{!canAddRow}}">
              <iron-icon icon="icons:add-circle"></iron-icon> Add Row
            </paper-button>
          </td>
        </tr>
      </tbody>

    </table>
    
  </template>
</dom-module>
<script src="story-part-table.js"></script>