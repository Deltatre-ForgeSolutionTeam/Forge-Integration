<dom-module id="search-editorial-content">
    <style include="iron-flex iron-flex-alignment">
        paper-dialog {
            width: 60%;
            top: 0px;
        }

        .search-bar iron-icon {
            margin: 10px;
        }

        .content-item {
            cursor: pointer;
            padding: 10px;
            border-bottom: solid 1px #eee;
        }

        .content-thumbnail {
            width: 80px;
            height: 80px;
            position: relative;
        }

        .content-text{
            padding-left: 20px;
        }

        .content-thumbnail .icon-placeholder {
            position: absolute;
            top: 0;
            left: 0;
            color: gray;
        }

        .content-thumbnail .icon-missing {
            color: var(--status-red-color);
        }

        .content-thumbnail iron-image {
            width: 100%;
            height: 100%;
        }

        .content-thumbnail iron-icon {
            width: 100%;
            height: 100%;
        }

    </style>

    <template>
        <paper-dialog id="searchModal" modal on-iron-overlay-closed="_onSearchModalClose">
            <h2>Search {{editorialTypeContent.label}}</h2>

            <div class="search-bar layout horizontal">
                <iron-icon icon="search"></iron-icon>
                <paper-input class="flex" value="{{search}}" on-input="_searchChanged" on-change="_searchChanged" no-label-float="true" label="Search Text"
                    always-float-label></paper-input>
            </div>

            <paper-dialog-scrollable class="search-content">

                <template is="dom-repeat" items="[[_results]]">

                    <paper-item class="content-item" on-click="_select" on-dblclick="_selectAndConfirm">
                        <paper-item-body>
                            <div class="layout horizontal">
                                <div class="content-thumbnail">
                                    <iron-icon class="icon-placeholder" icon="image:photo"></iron-icon>
                                    <iron-image src="[[item.wcmThumbnailUrl]]" sizing="contain"></iron-image>
                                </div>

                                <div class="layout vertical flex content-text">
                                    <div>[[item.Title]]</div>
                                    <div>[[item.Slug]]</div>
                                </div>
                            </div>

                        </paper-item-body>
                    </paper-item>

                </template>

            </paper-dialog-scrollable>

            <div class="buttons">
                <paper-button dialog-dismiss>Close</paper-button>
            </div>
        </paper-dialog>

    </template>

</dom-module>


<script src="search-editorial-content.js"></script>